{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"0.0.0"},"children":{"aws-stepfunctions-tasks-databrew-start-job-run-integ":{"id":"aws-stepfunctions-tasks-databrew-start-job-run-integ","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"0.0.0"},"children":{"JobOutputBucket":{"id":"JobOutputBucket","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/JobOutputBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/JobOutputBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{}}}}},"DataBrew Role":{"id":"DataBrew Role","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/DataBrew Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/DataBrew Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"databrew.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSGlueDataBrewServiceRole"]]}],"path":"/","policies":[{"policyName":"DataBrewPolicy","policyDocument":{"Statement":[{"Action":["s3:DeleteObject","s3:GetObject","s3:ListBucket","s3:PutObject"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["JobOutputBucketACE3BC7B","Arn"]},{"Fn::Join":["",["arn:aws:s3:::databrew-public-datasets-",{"Ref":"AWS::Region"},"/*"]]},{"Fn::Join":["",["arn:aws:s3:::databrew-public-datasets-",{"Ref":"AWS::Region"}]]},{"Fn::Join":["",[{"Fn::GetAtt":["JobOutputBucketACE3BC7B","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}]}}}}},"DataBrew Recipe":{"id":"DataBrew Recipe","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/DataBrew Recipe","constructInfo":{"fqn":"aws-cdk-lib.aws_databrew.CfnRecipe","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DataBrew::Recipe","aws:cdk:cloudformation:props":{"name":"recipe-1","steps":[{"action":{"operation":"UPPER_CASE","parameters":{"sourceColumn":"description"}}},{"action":{"operation":"DELETE","parameters":{"sourceColumn":"doc_id"}}}]}}},"DataBrew Dataset":{"id":"DataBrew Dataset","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/DataBrew Dataset","constructInfo":{"fqn":"aws-cdk-lib.aws_databrew.CfnDataset","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DataBrew::Dataset","aws:cdk:cloudformation:props":{"input":{"s3InputDefinition":{"bucket":{"Fn::Join":["",["databrew-public-datasets-",{"Ref":"AWS::Region"}]]},"key":"votes.csv"}},"name":"dataset-1"}}},"DataBrew Project":{"id":"DataBrew Project","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/DataBrew Project","constructInfo":{"fqn":"aws-cdk-lib.aws_databrew.CfnProject","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DataBrew::Project","aws:cdk:cloudformation:props":{"datasetName":"dataset-1","name":"project-1","recipeName":"recipe-1","roleArn":{"Fn::GetAtt":["DataBrewRole7E60F80D","Arn"]}}}},"DataBrew Job":{"id":"DataBrew Job","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/DataBrew Job","constructInfo":{"fqn":"aws-cdk-lib.aws_databrew.CfnJob","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DataBrew::Job","aws:cdk:cloudformation:props":{"name":"job-1","outputs":[{"location":{"bucket":{"Ref":"JobOutputBucketACE3BC7B"}}}],"projectName":"project-1","roleArn":{"Fn::GetAtt":["DataBrewRole7E60F80D","Arn"]},"type":"RECIPE"}}},"Start DataBrew Job run":{"id":"Start DataBrew Job run","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/Start DataBrew Job run","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.GlueDataBrewStartJobRun","version":"0.0.0"}},"StateMachine":{"id":"StateMachine","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/StateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"0.0.0"},"children":{"Role":{"id":"Role","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/StateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/StateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/StateMachine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"0.0.0"},"children":{"Resource":{"id":"Resource","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/StateMachine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"databrew:startJobRun","Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":databrew:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":job/job-1"]]}}],"Version":"2012-10-17"},"policyName":"StateMachineRoleDefaultPolicyDF1E6607","roles":[{"Ref":"StateMachineRoleB840431D"}]}}}}}}},"Resource":{"id":"Resource","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/StateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"0.0.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"Start DataBrew Job run\",\"States\":{\"Start DataBrew Job run\":{\"End\":true,\"Type\":\"Task\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::databrew:startJobRun\",\"Parameters\":{\"Name\":\"job-1\"}}},\"TimeoutSeconds\":30}"]]},"roleArn":{"Fn::GetAtt":["StateMachineRoleB840431D","Arn"]}}}}}},"stateMachineArn":{"id":"stateMachineArn","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/stateMachineArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"0.0.0"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"0.0.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"aws-stepfunctions-tasks-databrew-start-job-run-integ/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"0.0.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.5.0"}}}}}